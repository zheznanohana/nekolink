# i18n.py
# -*- coding: utf-8 -*-
from __future__ import annotations

LANGS = ("zh", "en", "ja")

I18N = {
    "zh": {
        "app_title": "NekoLink Â· iPhone é€šçŸ¥è½¬å‘å™¨ï¼ˆWindowsï¼‰",
        "main": "ä¸»ç•Œé¢",
        "devices": "è®¾å¤‡",
        "dest": "è½¬å‘ç›®æ ‡",
        "filter": "å±è”½å…³é”®è¯",
        "misc": "æ‚é¡¹",
        "history": "å†å²",
        "logs": "æ—¥å¿—",
        "save": "ä¿å­˜",
        "start": "å¼€å§‹",
        "stop": "åœæ­¢",
        "scan": "æ‰«æ",
        "add": "æ·»åŠ ",
        "remove_selected": "ç§»é™¤é€‰ä¸­",
        "clear": "æ¸…ç©º",
        "copy_selected": "å¤åˆ¶é€‰ä¸­",
        "running": "â— è¿è¡Œä¸­",
        "stopped": "â— å·²åœæ­¢",
        "config_path": "é…ç½®æ–‡ä»¶",
        "preview": "æœ€æ–°é€šçŸ¥é¢„è§ˆ",
        "tip_tray": "æç¤ºï¼šç‚¹å‡»å…³é—­ä¼šæœ€å°åŒ–åˆ°æ‰˜ç›˜ï¼Œä»æ‰˜ç›˜èœå•é€€å‡ºã€‚",
        "dedup": "å»é‡ï¼ˆç§’ï¼‰",
        "history_limit": "å†å²æ¡æ•°ä¸Šé™",
        "enable_code": "å¼€å¯éªŒè¯ç è¯†åˆ«",
        "send_code_sep": "éªŒè¯ç å•ç‹¬æ¨é€",
        "tg_enable": "å¯ç”¨ Telegram",
        "tg_token": "Bot Token",
        "tg_chat": "Chat ID",
        "tg_test": "æµ‹è¯• Telegram",
        "mail_enable": "å¯ç”¨ Email",
        "mail_test": "æµ‹è¯• Email",
        "dt_enable": "å¯ç”¨ é’‰é’‰æœºå™¨äºº",
        "dt_webhook": "Webhook åœ°å€",
        "dt_secret": "Secretï¼ˆå¯é€‰ï¼‰",
        "dt_test": "æµ‹è¯• é’‰é’‰",
        "battery": "ç”µé‡",
        "missing": "ç¼ºå°‘é…ç½®",
        "ok": "æˆåŠŸ",
        "fail": "å¤±è´¥",
        "saved_to": "å·²ä¿å­˜åˆ°ï¼š",
        "misc_title": "æ‚é¡¹è®¾ç½®",
        "show_battery_in_msg": "è½¬å‘å†…å®¹ä¸­æ˜¾ç¤ºç”µé‡ï¼ˆğŸ”‹xx%ï¼‰",
        "enable_windows_toast": "å¯ç”¨ Windows å³ä¸‹è§’ç³»ç»Ÿé€šçŸ¥ï¼ˆToastï¼‰",
        "toast_note": "è¯´æ˜ï¼šæ­¤å¼€å…³åªå½±å“æœ¬æœºå¼¹çª—ï¼Œä¸å½±å“ TG/é’‰é’‰/é‚®ä»¶è½¬å‘ã€‚",
    },
    "en": {
        "app_title": "NekoLink Â· iPhone Notification Bridge (Windows)",
        "main": "Main",
        "devices": "Devices",
        "dest": "Destinations",
        "filter": "Block Keywords",
        "misc": "Misc",
        "history": "History",
        "logs": "Logs",
        "save": "Save",
        "start": "Start",
        "stop": "Stop",
        "scan": "Scan",
        "add": "Add",
        "remove_selected": "Remove selected",
        "clear": "Clear",
        "copy_selected": "Copy selected",
        "running": "â— Running",
        "stopped": "â— Stopped",
        "config_path": "Config",
        "preview": "Latest notification preview",
        "tip_tray": "Tip: Close button minimizes to tray. Exit from tray menu.",
        "dedup": "Dedup (sec)",
        "history_limit": "History limit",
        "enable_code": "Enable code detect",
        "send_code_sep": "Send code separately",
        "tg_enable": "Enable Telegram",
        "tg_token": "Bot Token",
        "tg_chat": "Chat ID",
        "tg_test": "Test Telegram",
        "mail_enable": "Enable Email",
        "mail_test": "Test Email",
        "dt_enable": "Enable DingTalk",
        "dt_webhook": "Webhook URL",
        "dt_secret": "Secret (optional)",
        "dt_test": "Test DingTalk",
        "battery": "Battery",
        "missing": "Missing",
        "ok": "OK",
        "fail": "Fail",
        "saved_to": "Saved to:",
        "misc_title": "Misc Settings",
        "show_battery_in_msg": "Show battery in forwarded message (ğŸ”‹xx%)",
        "enable_windows_toast": "Enable Windows Toast notifications",
        "toast_note": "Note: This only controls local Windows popups, not TG/DingTalk/Email forwarding.",
    },
    "ja": {
        "app_title": "NekoLink Â· iPhone é€šçŸ¥è»¢é€ï¼ˆWindowsï¼‰",
        "main": "ãƒ¡ã‚¤ãƒ³",
        "devices": "ãƒ‡ãƒã‚¤ã‚¹",
        "dest": "è»¢é€å…ˆ",
        "filter": "ãƒ–ãƒ­ãƒƒã‚¯ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰",
        "misc": "ãã®ä»–",
        "history": "å±¥æ­´",
        "logs": "ãƒ­ã‚°",
        "save": "ä¿å­˜",
        "start": "é–‹å§‹",
        "stop": "åœæ­¢",
        "scan": "ã‚¹ã‚­ãƒ£ãƒ³",
        "add": "è¿½åŠ ",
        "remove_selected": "é¸æŠã‚’å‰Šé™¤",
        "clear": "ã‚¯ãƒªã‚¢",
        "copy_selected": "é¸æŠã‚’ã‚³ãƒ”ãƒ¼",
        "running": "â— å®Ÿè¡Œä¸­",
        "stopped": "â— åœæ­¢",
        "config_path": "è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«",
        "preview": "æœ€æ–°é€šçŸ¥ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
        "tip_tray": "ãƒ’ãƒ³ãƒˆï¼šé–‰ã˜ã‚‹ã¨ãƒˆãƒ¬ã‚¤ã«æœ€å°åŒ–ã€‚çµ‚äº†ã¯ãƒˆãƒ¬ã‚¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€‚",
        "dedup": "é‡è¤‡æ’é™¤ï¼ˆç§’ï¼‰",
        "history_limit": "å±¥æ­´ä¸Šé™",
        "enable_code": "ã‚³ãƒ¼ãƒ‰æ¤œå‡ºã‚’æœ‰åŠ¹åŒ–",
        "send_code_sep": "ã‚³ãƒ¼ãƒ‰ã‚’åˆ¥é€",
        "tg_enable": "Telegram ã‚’æœ‰åŠ¹åŒ–",
        "tg_token": "Bot Token",
        "tg_chat": "Chat ID",
        "tg_test": "Telegram ãƒ†ã‚¹ãƒˆ",
        "mail_enable": "Email ã‚’æœ‰åŠ¹åŒ–",
        "mail_test": "Email ãƒ†ã‚¹ãƒˆ",
        "dt_enable": "DingTalk ã‚’æœ‰åŠ¹åŒ–",
        "dt_webhook": "Webhook URL",
        "dt_secret": "Secretï¼ˆä»»æ„ï¼‰",
        "dt_test": "DingTalk ãƒ†ã‚¹ãƒˆ",
        "battery": "é›»æ± ",
        "missing": "æœªè¨­å®š",
        "ok": "æˆåŠŸ",
        "fail": "å¤±æ•—",
        "saved_to": "ä¿å­˜å…ˆï¼š",
        "misc_title": "ãã®ä»–ã®è¨­å®š",
        "show_battery_in_msg": "è»¢é€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«é›»æ± æ®‹é‡ã‚’è¡¨ç¤ºï¼ˆğŸ”‹xx%ï¼‰",
        "enable_windows_toast": "Windows ã®ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã‚’æœ‰åŠ¹åŒ–",
        "toast_note": "æ³¨æ„ï¼šã“ã®è¨­å®šã¯ãƒ­ãƒ¼ã‚«ãƒ«é€šçŸ¥ã®ã¿ã€‚TG/DingTalk/Email ã«ã¯å½±éŸ¿ã—ã¾ã›ã‚“ã€‚",
    },
}


class I18n:
    def __init__(self, lang: str = "zh"):
        self.lang = lang if lang in LANGS else "zh"

    def set_lang(self, lang: str):
        if lang in LANGS:
            self.lang = lang

    def t(self, key: str) -> str:
        return I18N.get(self.lang, {}).get(key, I18N["en"].get(key, key))